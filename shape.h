#pragma once
#include <ctime>
#include <SFML/Graphics.hpp>
#include <SFML/Network.hpp>
#include <SFML/System.hpp>
#include <SFML/Audio.hpp>
#include <SFML/Window.hpp>

using namespace sf;

class shape
{
private:
	const float rotations[7][4][4][2] = { {{{40, 0}, {80, -40}, {0, 40}, {-40, 80}}, {{0, 40}, {40, 80}, {-40, 0}, {-80, -40}}, {{-40, 0}, {-80, 40}, {0, -40}, {40, -80}}, {{0, -40}, {-40, -80}, {40, 0}, {80, 40}}},
										  {{{0, 0}, {0, 0}, {0, 0}, {0, 0}}, {{0, 0}, {0, 0}, {0, 0}, {0, 0}}, {{0, 0}, {0, 0}, {0, 0}, {0, 0}}, {{0, 0}, {0, 0}, {0, 0}, {0, 0}}},
										  {{{0, 0}, {40, -40}, {-40, 40}, {40, 40}}, {{0, 0}, {40, 40}, {-40, -40}, {-40, 40}}, {{0, 0}, {-40, 40}, {40, -40}, {-40, -40}}, {{0, 0}, {-40, -40}, {40, 40}, {40, -40}}},
										  {{{0, 0}, {40, -40}, {-40, 40}, {0, 80}}, {{0, 0}, {40, 40}, {-40, -40}, {-80, 0}}, {{0, 0}, {-40, 40}, {40, -40}, {0, -80}}, {{0, 0}, {-40, -40}, {40, 40}, {80, 0}}},
										  {{{0, 0}, {-40, 40}, {40, -40}, {80, 0}}, {{0, 0}, {-40, -40}, {40, 40}, {0, 80}}, {{0, 0}, {40, -40}, {-40, 40}, {-80, 0}}, {{0, 0}, {40, 40}, {-40, -40}, {0, -80}}},
										  {{{0, 0}, {40, -40}, {40, 40}, {0, 80}}, {{0, 0}, {40, 40}, {-40, 40}, {-80, 0}}, {{0, 0}, {-40, 40}, {-40, -40}, {0, -80}}, {{0, 0}, {-40, -40}, {40, -40}, {80, 0}}},
										  {{{0, 0}, {-40, 40}, {40, 40}, {80, 0}}, {{0, 0}, {-40, -40}, {-40, 40}, {0, 80}}, {{0, 0}, {40, -40}, {-40, -40}, {-80, 0}}, {{0, 0}, {40, 40}, {40, -40}, {0, -80}}} };
public:
	RectangleShape r1, r2, r3, r4;
	int s = 0, state = 0;
	bool useable = true;
	bool ghost = false;
	shape();
	void create(char ch, int x, int y);
	void movedown(int& t, bool touched, bool& stop, int level);
	void moveside(int s, bool l, bool r);
	void show(RenderWindow& w);
	void rotate(int piece, int direction, int& state);
};
